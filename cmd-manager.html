<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø¯ÙŠØ± Ø£ÙˆØ§Ù…Ø±</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; font-size: 16px; line-height: 1.6; }
    body { background-color: #f5f7fa; color: #2c3e50; padding: 20px; }
    h1 { text-align: center; color: #34495e; margin-bottom: 30px; font-size: 2.2em; }
    .container { max-width: 1200px; margin: 0 auto; background-color: #ffffff; padding: 25px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08); }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 8px; color: #34495e; font-weight: 500; }
    input, textarea, select { width: 100%; padding: 12px; border: 1px solid #e1e8ef; border-radius: 6px; background-color: #f8fafc; color: #2c3e50; font-family: inherit; transition: border-color 0.3s; }
    input:focus, textarea:focus, select:focus { outline: none; border-color: #3498db; box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1); }
    textarea { height: 120px; resize: vertical; }
    .command-form, .filter-section, .command-card { background-color: #ffffff; padding: 20px; border-radius: 8px; border: 1px solid #e1e8ef; margin-bottom: 20px; }
    .filter-section select { width: 200px; }
    .command-type { color: #3498db; font-weight: 600; font-size: 0.9em; margin-bottom: 10px; }
    .command-text { background-color: #f8fafc; padding: 15px; border-radius: 6px; font-family: 'Consolas', monospace; color: #2c3e50; border: 1px solid #e1e8ef; margin: 10px 0; direction: ltr; overflow-x: auto; }
    .command-description { color: #5d6d7e; line-height: 1.5; }
    .button-group { display: flex; gap: 8px; margin-top: 10px; flex-wrap: wrap; }
    .button-group button { padding: 6px 12px; font-size: 0.85em; border: none; border-radius: 4px; color: white; cursor: pointer; transition: background 0.3s ease; }
    .save-btn { background-color: #3498db; }
    .save-btn:hover { background-color: #2980b9; }
    .copy-btn { background-color: #95a5a6; }
    .copy-btn:hover { background-color: #7f8c8d; }
    .edit-btn { background-color: #2ecc71; }
    .edit-btn:hover { background-color: #27ae60; }
    .delete-btn { background-color: #e74c3c; }
    .delete-btn:hover { background-color: #c0392b; }
    .success-message { position: fixed; top: 20px; right: 20px; background-color: #2ecc71; color: white; padding: 12px 24px; border-radius: 6px; display: none; font-weight: 600; box-shadow: 0 2px 10px rgba(46, 204, 113, 0.2); }
    @media (max-width: 600px) {
      .filter-section select { width: 100%; }
      .button-group { flex-direction: column; }
      .button-group button { width: 100%; text-align: center; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Ù…Ø¯ÙŠØ± Ø£ÙˆØ§Ù…Ø±</h1>
    <div class="filter-section">
      <select id="filterType">
        <option value="all">ÙƒÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø±</option>
        <option value="cmd">CMD</option>
        <option value="powershell">PowerShell</option>
        <option value="run">Run</option>
      </select>
    </div>
    <form class="command-form" id="commandForm">
      <div class="form-group">
        <label>Ù†ÙˆØ¹ Ø§Ù„Ø£Ù…Ø±</label>
        <select id="typeInput" required>
          <option value="cmd">CMD</option>
          <option value="powershell">PowerShell</option>
          <option value="run">Run</option>
        </select>
      </div>
      <div class="form-group">
        <label>Ø§Ù„Ø£Ù…Ø±</label>
        <input type="text" id="commandInput" required>
      </div>
      <div class="form-group">
        <label>Ø§Ù„ÙˆØµÙ</label>
        <textarea id="descriptionInput" required></textarea>
      </div>
      <button type="submit" class="save-btn">Ø­ÙØ¸ Ø§Ù„Ø£Ù…Ø±</button>
    </form>
    <div class="command-list" id="commandList"></div>
  </div>
  <div class="success-message" id="successMessage">ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø£Ù…Ø± Ø¨Ù†Ø¬Ø§Ø­!</div>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyB7_51BUPPhjBqXnDD3l0_UnHhDFyp9HuI",
      authDomain: "myweb-3506f.firebaseapp.com",
      databaseURL: "https://myweb-3506f-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "myweb-3506f",
      storageBucket: "myweb-3506f.appspot.com",
      messagingSenderId: "371763043800",
      appId: "1:371763043800:web:5ffff9aecd15ebb931a6ad"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const commandForm = document.getElementById('commandForm');
    const commandList = document.getElementById('commandList');
    const filterType = document.getElementById('filterType');
    const successMessage = document.getElementById('successMessage');

    commandForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const newCommand = {
        type: document.getElementById('typeInput').value,
        command: document.getElementById('commandInput').value.trim(),
        description: document.getElementById('descriptionInput').value.trim()
      };
      db.ref('commands').push(newCommand);
      commandForm.reset();
    });

    function renderCommands(data) {
      commandList.innerHTML = '';
      const selectedType = filterType.value;
      for (let id in data) {
        const cmd = data[id];
        if (selectedType !== 'all' && cmd.type !== selectedType) continue;
        const card = document.createElement('div');
        card.className = 'command-card';
        card.innerHTML = `
          <div class="command-type">${cmd.type.toUpperCase()}</div>
          <div class="command-text">${cmd.command}</div>
          <div class="command-description">${cmd.description}</div>
          <div class="button-group">
            <button class="copy-btn">Ù†Ø³Ø®</button>
            <button class="edit-btn">ØªØ¹Ø¯ÙŠÙ„</button>
            <button class="delete-btn">Ø­Ø°Ù</button>
          </div>
        `;
        card.querySelector('.copy-btn').onclick = () => {
          navigator.clipboard.writeText(cmd.command);
          successMessage.style.display = 'block';
          setTimeout(() => successMessage.style.display = 'none', 2000);
        };
        card.querySelector('.edit-btn').onclick = () => {
          const newCmd = prompt("ğŸ“ Ø¹Ø¯Ù„ Ø§Ù„Ø£Ù…Ø±:", cmd.command);
          if (newCmd) db.ref('commands/' + id).update({ command: newCmd });
        };
        card.querySelector('.delete-btn').onclick = () => {
          if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±ØŸ")) db.ref('commands/' + id).remove();
        };
        commandList.appendChild(card);
      }
    }

    filterType.addEventListener('change', () => {
      db.ref('commands').once('value', (snapshot) => {
        renderCommands(snapshot.val() || {});
      });
    });

    db.ref('commands').on('value', (snapshot) => {
      renderCommands(snapshot.val() || {});
    });
  </script>
</body>
</html>
